:: RoadProfile
/* <<set $currentPassage to lib.findInContainer($town.roads, "key", $currentPassage.key)>> */
<h1 class="interactive-only">$currentPassage.name</h1>
$currentPassage.description

<<liveblock>><span class="interactive-only"><label name="Select new building type" for="listbox-newbuilding"><<listbox "$newBuilding">><<optionsfrom Object.keys(setup.buildingTypes).filter(building => {
  const nsfwItems = ['Brothel'];
  if (!settings.disableNSFW) return building;
  return !building.includes(nsfwItems);
})>>
<</listbox>></label> -- <<button "Create New Building">>
  <<run console.log('Creating a new ' + $newBuilding)>>
  <<set _latestBuilding to setup.createNewBuilding($town, $newBuilding, { road: $currentPassage.key })>>
  <<update>>
  <<run $('.' + _latestBuilding.key).parent().addClass('highlight')>>
  <</button>>
</span>
<<include "RoadTables">><</liveblock>>
